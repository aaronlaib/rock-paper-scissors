<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <button onclick="handleOnClick('Rock')">Rock</button>
    <button onclick="handleOnClick('Paper')">Paper</button>
    <button onclick="handleOnClick('Scissors')">Scissors</button>
    
    <div id="score"></div>
    <div id="results">

    </div>

    <script>
      let playerScore = 0;
      let compScore = 0;
      
      const computerPlay = () => {
        const choiceNumber = getRandomInt(1, 3);
        if (choiceNumber === 1) return "Rock";
        if (choiceNumber === 2) return "Paper";
        if (choiceNumber === 3) return "Scissors";
      };

      const getRandomInt = (min, max) => {
        return Math.floor(Math.random() * (max - min + 1) + min);
      };

      const playRound = (player, computerSelection) => {
        if (compScore >= 5) {
          return 'End of Game: Computer wins! :('
        }
        if (playerScore >= 5) {
          return 'End of Game: You win!'
        }
        
        if (player === computerSelection) {
          return 'Tie';
        }

        if (player === "Rock") {
          if (computerSelection === "Paper") {
            compScore++;
            return "You Lose! Paper beats Rock";
          }
          else {
            playerScore++;
            return "You Win! Rock beats Scissors";
          }

        }
        if (player === "Paper") {
          if (computerSelection === "Scissors") {
            compScore++;
            return "You Lose! Scissors beats Paper";
          }
          else {
            playerScore++;
            return "You Win! Paper beats Rock";
          }
        }
        if (player === "Scissors") {
          if (computerSelection === "Rock") {
            compScore++;
            return "You Lose! Rock beats Scissors";
          }
          else {
            playerScore++;
            return "You Win! Scissors beats Paper";
          }
        }
      };
      
      const handleOnClick = (selection) => {
        const results = document.getElementById("results");
        const score = document.getElementById("score")
        const textResult = document.createElement("p");
        textResult.textContent = playRound(selection, computerPlay());
        
        results.appendChild(textResult);

        score.textContent = `Player Score: ${playerScore} Computer Score: ${compScore}`;
      };
    </script>
  </body>
</html>
